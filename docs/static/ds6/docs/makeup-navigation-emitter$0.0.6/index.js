$_mod.def("/makeup-navigation-emitter$0.0.6/index",function(t,e,n,i,o){"use strict";function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t){t.forEach(function(t,e){t.setAttribute(w,e)})}function d(){this.atStart()?this.options.wrap&&(this.index=this.items.length-1):this.index--}function h(){this.atEnd()?this.options.wrap&&(this.index=0):this.index++}function c(t){var e=t.target.dataset.makeupIndex;void 0!==e&&(this.index=e)}function l(){this.index=0}function f(){this.index=this.items.length}function p(){null!==this.options.autoReset&&(this._index=this.options.autoReset,this._el.dispatchEvent(new CustomEvent("navigationModelReset",{detail:{toIndex:this.options.autoReset},bubbles:!1})))}function v(){this.items=_.nodeListToArray(this._el.querySelectorAll(this._itemSelector)),u(this.items),this._el.dispatchEvent(new CustomEvent("navigationModelMutation"))}var y=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),b=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},_=t("/makeup-navigation-emitter$0.0.6/util"),x=t("/makeup-key-emitter$0.0.3/index"),m=t("/makeup-exit-emitter$0.0.4/index"),w="data-makeup-index",E={autoInit:0,autoReset:null,wrap:!1},L=function t(e,n,i){a(this,t),this.options=b({},E,i),this._el=e,this._itemSelector=n,this.items=_.nodeListToArray(e.querySelectorAll(n))},k=function(t){function e(t,n,i){a(this,e);var o=s(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n,i));return null!==o.options.autoInit&&(o._index=o.options.autoInit,o._el.dispatchEvent(new CustomEvent("navigationModelInit",{detail:{toIndex:o.options.autoInit},bubbles:!1}))),o}return r(e,t),y(e,[{key:"atEnd",value:function(){return this.index===this.items.length-1}},{key:"atStart",value:function(){return this.index<=0}},{key:"index",get:function(){return this._index},set:function(t){t!==this.index&&(this._el.dispatchEvent(new CustomEvent("navigationModelChange",{detail:{toIndex:t,fromIndex:this.index},bubbles:!1})),this._index=t)}}]),e}(L),g=function(){function t(e,n){a(this,t),this.model=n,this._keyPrevListener=d.bind(n),this._keyNextListener=h.bind(n),this._keyHomeListener=l.bind(n),this._keyEndListener=f.bind(n),this._clickListener=c.bind(n),this._focusExitListener=p.bind(n),this._observer=new MutationObserver(v.bind(n)),u(n.items),x.addKeyDown(e),m.addFocusExit(e),e.addEventListener("arrowLeftKeyDown",this._keyPrevListener),e.addEventListener("arrowRightKeyDown",this._keyNextListener),e.addEventListener("arrowUpKeyDown",this._keyPrevListener),e.addEventListener("arrowDownKeyDown",this._keyNextListener),e.addEventListener("homeKeyDown",this._keyHomeListener),e.addEventListener("endKeyDown",this._keyEndListener),e.addEventListener("click",this._clickListener),e.addEventListener("focusExit",this._focusExitListener),this._observer.observe(e,{childList:!0,subtree:!0})}return y(t,null,[{key:"createLinear",value:function(e,n,i){return new t(e,new k(e,n,i))}}]),t}();n.exports=g});