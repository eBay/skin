$_mod.def("/makeup-expander$0.4.0/index",function(e,t,s,i,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e){var t=e.keyCode;13!==t&&32!==t||(this.keyDownFlag=!0,32===t&&!0===this.options.simulateSpacebarClick&&this.hostEl.click())}function l(e){!1===this.el.contains(e.target)&&this.el.dispatchEvent(new CustomEvent("clickOut",{bubbles:!1}))}var h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(e[i]=s[i])}return e},r=function(){function e(e,t){for(var s=0;s<t.length;s++){var i=t[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,s,i){return s&&e(t.prototype,s),i&&e(t,i),t}}(),c=e("/makeup-next-id$0.0.2/index"),u=e("/makeup-exit-emitter$0.0.4/index"),d=e("/makeup-focusables$0.0.3/index"),p={autoCollapse:!1,collapseOnFocusOut:!1,collapseOnMouseOut:!1,collapseOnClickOut:!1,contentSelector:".expander__content",expandOnClick:!1,expandOnFocus:!1,expandOnHover:!1,focusManagement:null,hostContainerClass:"expander__host-container",hostSelector:".expander__host",simulateSpacebarClick:!1};s.exports=function(){function e(t,s){o(this,e),this.options=h({},p,s),this.el=t,this.hostEl=t.querySelector(this.options.hostSelector),this.expandeeEl=t.querySelector(this.options.contentSelector),this.hostContainerEl=null,this.hostContainerExpandedClass=this.options.hostContainerClass+"--expanded",this.hostIsNested=!1,c(this.el,"expander"),c(this.expandeeEl,this.el.id+"-content"),u.addFocusExit(this.el),this._hostKeyDownListener=a.bind(this),this._documentClickListener=l.bind(this),this._hostClickListener=this.toggle.bind(this),this._hostFocusListener=this.expand.bind(this),this._hostHoverListener=this.expand.bind(this),this._focusExitListener=this.collapse.bind(this),this._mouseLeaveListener=this.collapse.bind(this),this._clickOutListener=this.collapse.bind(this),null===this.hostEl.getAttribute("aria-expanded")&&this.hostEl.setAttribute("aria-expanded","false"),this.hostEl.setAttribute("aria-controls",this.expandeeEl.id),this.hostIsNested=this.hostEl.parentNode!==this.el,!0===this.hostIsNested&&(this.hostContainerEl=this.hostEl.parentNode,this.hostContainerEl.classList.add(this.options.hostContainerClass)),this.expandOnClick=this.options.expandOnClick,this.expandOnFocus=this.options.expandOnFocus,this.expandOnHover=this.options.expandOnHover,!1===this.options.autoCollapse&&(this.collapseOnClickOut=this.options.collapseOnClickOut,this.collapseOnFocusOut=this.options.collapseOnFocusOut,this.collapseOnMouseOut=this.options.collapseOnMouseOut)}return r(e,[{key:"isExpanded",value:function(){return"true"===this.hostEl.getAttribute("aria-expanded")}},{key:"collapse",value:function(){!0===this.isExpanded()&&(this.hostEl.setAttribute("aria-expanded","false"),this.hostContainerEl&&this.hostContainerEl.classList.remove(this.hostContainerExpandedClass),this.el.dispatchEvent(new CustomEvent("expander-collapse",{bubbles:!0,detail:this.expandeeEl})))}},{key:"expand",value:function(e){if(!1===this.isExpanded()){if(this.hostEl.setAttribute("aria-expanded","true"),this.hostContainerEl&&this.hostContainerEl.classList.add(this.hostContainerExpandedClass),!0===e){var t=this.options.focusManagement;if("content"===t)this.expandeeEl.setAttribute("tabindex","-1"),this.expandeeEl.focus();else if("focusable"===t)d(this.expandeeEl)[0].focus();else if("interactive"===t)d(this.expandeeEl,!0)[0].focus();else if(null!==t){var s=this.expandeeEl.querySelector("#"+t);s&&s.focus()}}this.el.dispatchEvent(new CustomEvent("expander-expand",{bubbles:!0,detail:this.expandeeEl}))}}},{key:"toggle",value:function(){!0===this.isExpanded()?this.collapse():this.expand(this.keyDownFlag),this.keyDownFlag=!1}},{key:"expandOnClick",set:function(e){var t=!0===this.hostIsNested?this.hostContainerEl:this.hostEl;!0===e?(this.hostEl.addEventListener("keydown",this._hostKeyDownListener),t.addEventListener("click",this._hostClickListener),!0===this.options.autoCollapse&&(this.collapseOnClickOut=!0,this.collapseOnFocusOut=!0)):(t.removeEventListener("click",this._hostClickListener),this.hostEl.removeEventListener("keydown",this._hostKeyDownListener))}},{key:"expandOnFocus",set:function(e){!0===e?(this.hostEl.addEventListener("focus",this._hostFocusListener),!0===this.options.autoCollapse&&(this.collapseOnFocusOut=!0)):this.hostEl.removeEventListener("focus",this._hostFocusListener)}},{key:"expandOnHover",set:function(e){var t=!0===this.hostIsNested?this.hostContainerEl:this.hostEl;!0===e?(t.addEventListener("mouseenter",this._hostHoverListener),!0===this.options.autoCollapse&&(this.collapseOnMouseOut=!0)):t.removeEventListener("mouseenter",this._hostHoverListener)}},{key:"collapseOnClickOut",set:function(e){!0===e?(document.addEventListener("click",this._documentClickListener),this.el.addEventListener("clickOut",this._clickOutListener)):(this.el.removeEventListener("clickOut",this._clickOutListener),document.removeEventListener("click",this._documentClickListener))}},{key:"collapseOnFocusOut",set:function(e){!0===e?this.el.addEventListener("focusExit",this._focusExitListener):this.el.removeEventListener("focusExit",this._focusExitListener)}},{key:"collapseOnMouseOut",set:function(e){!0===e?this.el.addEventListener("mouseleave",this._mouseLeaveListener):this.el.removeEventListener("mouseleave",this._mouseLeaveListener)}}]),e}()});