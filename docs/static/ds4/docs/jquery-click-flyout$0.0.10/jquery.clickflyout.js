!function(t,e,o,n){t.fn.clickFlyout=function(e){return e=t.extend({autoCollapse:!0,closeOnEsc:!1,debug:!1,focusManagement:"none",triggerSelector:".flyout__trigger",overlaySelector:".flyout__overlay"},e),this.each(function(){var o=t(this),n=o.find(e.triggerSelector).first(),a=o.find(e.overlaySelector).first(),r=function(){return"true"===n.attr("aria-expanded")},c=function(){a.focus()},i=function(){a.focusable().first().focus()},u=function(){a.find("#"+e.focusManagement).focus()},f=function(){var t;switch(e.focusManagement){case"none":t=Function;break;case"overlay":a.attr("tabindex","-1"),t=c;break;case"first":t=i;break;default:t=u}return t}(),s=function(){!1===r()&&(n.attr("aria-expanded","true"),o.trigger("flyoutExpand"),f())},l=function(){!0===r()&&(n.attr("aria-expanded","false"),o.trigger("flyoutCollapse"))},d=function(){!0===r()?l():s()},p=function(){d()};o.nextId("flyout"),""===a.prop("id")&&a.prop("id",o.prop("id")+"-overlay"),n.attr("aria-controls",a.prop("id")).attr("aria-expanded","false"),n.on("click",p),!0===e.autoCollapse&&(o.focusExit().on("focusExit",l),n.on("focus",l)),!0===e.closeOnEsc&&o.on("keydown",function(t){27===t.keyCode&&(l(),n.focus())}),o.addClass("flyout--js")})}}(jQuery,window,document);