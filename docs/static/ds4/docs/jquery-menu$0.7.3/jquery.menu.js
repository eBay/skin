!function(e,t,o,r){function n(){for(var e={},t=65;t<=90;t++)e[t]=String.fromCharCode(t);return e}e.fn.menu=function(t){return t=e.extend({autoWrap:!1,buttonSelector:"button",debug:!1,disableShortcutKey:!1,overlaySelector:"[role=menu]"},t),this.each(function(){var o=t.buttonSelector,r=t.overlaySelector,a=e(this),i=a.find(o),u=a.find(r),c=u.find("[role^=menuitem]"),d=(u.find("[role=menuitem]"),u.find("[role=menuitemcheckbox]"),u.find("[role=menuitemradio]")),l=(c.first(),n()),m=!t.disableShortcutKey,s={},f=function(){setTimeout(function(){i.attr("aria-expanded","false"),i.focus()},50)},p=f;m&&c.each(function(t){var o=e(this).text()[0];s[o]||(s[o]=t)}),a.nextId("menu"),a.clickFlyout({autoCollapse:!0,debug:t.debug,triggerSelector:o,focusManagement:"first",overlaySelector:r}),u.rovingTabindex("[role^=menuitem]",{axis:"y",autoReset:!0,autoWrap:t.autoWrap,debug:t.debug}),u.prop("id",a.prop("id")+"-menu"),i.attr("aria-haspopup","true").prop("id",a.prop("id")+"-button"),a.on("click enterKeyDown spaceKeyDown","[role^=menuitem]",function(t){var o=e(this),r=o.attr("role");switch(t.stopPropagation(),r){case"menuitemradio":d.attr("aria-checked","false"),o.attr("aria-checked","true");break;case"menuitemcheckbox":o.attr("aria-checked","true"===o.attr("aria-checked")?"false":"true")}setTimeout(function(){o.trigger("menuSelect"),f()},100)}),a.on("escapeKeyDown","[role^=menuitem]",p),m&&(c.attr("tabindex","-1"),a.on("keydown","[role^=menuitem]",function(e){var t=l[e.keyCode],o=s[t];void 0!==o&&c.get(o).focus()})),a.addClass("menu--js")})}}(jQuery);