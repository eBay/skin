<div id="skeleton-loader">
  {% include section-header.html name="skeleton-loader" version=page.versions.skeleton-loader %}

  <p>The Skeletons are simplified versions of layouts to indicate that information has not
    been fully loaded.</p>
  <ul>
    <li>Skeletons should only be used for loads that take 500ms or longer.</li>
    <li>Not every page or page section requires skeleton.</li>
    <li>Skeletons are primarily intended as a replacement for spinners.</li>
  </ul>

  <h3 id="skeleton-usage">Usage</h3>
  <h4>Labelling</h4>
  <p>By default, the skeleton loaders doesn't convey to screen reader users in a meaningful way. The <i>aria-label</i>
    attribute, set to "loading", is utilized to signify the loading state of the
    skeleton loader to screen reader users. To prevent the screen reader from repeating the label, the
    <i>aria-label</i> attribute should be positioned on the container element. For a better
    understanding of this subtlety, please refer to the Tile and Responsive tile sections below.
  </p>
  </p>
  <h4>Implementation: Using single DOM element and CSS :empty selector</h4>
  <p>In this progressive enhancement approach, <span class="highlight">:empty</span> pseudo-class in CSS is used for
    implementing a skeleton loader without the need for client-side JavaScript. This approach detects if the container
    with the class skeleton is empty and displays the skeleton loader until the asynchronous content is available.
    When the asynchronous content is ready, the skeleton loader will automatically disappear because the <span
      class="highlight">:empty</span> pseudo-class no longer applies.
  </p>
  <p>This approach is highly performant and consumes less resources especially on devices with limited CPU resources.
  </p>
  <p>NOTE: The <span class="highlight">:empty</span> pseudo-class considers elements with whitespace as not empty.
    Therefore, its important to ensure that the skeleton container doesn't contain any whitespace or comments before
    the
    asynchronous content is loaded.</p>

  {% highlight html %}
  <div role="img" class="custom-skeleton" aria-label="loading">
    <!-- Asynchronous content will go here -->
  </div>
  {% endhighlight %}

  <h4>Implementation: Using multiple DOM elements and JavaScript</h4>
  <p>In this approach using JavaScript, we gain more flexibility and control over when and how the skeleton loader is
    replaced with the actual content. Here we can completely hide or replace the skeleton loader and display the
    asyncronous content instead. This could be done by toggling the <span class="highlight">hidden</span> attribute on
    the
    skeleton loader and the content container.</p>
  <p>NOTE: JavaScript is required to toggle visbility of the skeletons and content container.</p>
  {% highlight html %}
  <!-- Before -->
  <div role="img" class="skeleton skeleton--text-small" aria-label="loading"></div>
  <!-- Asynchronous content will go here -->

  <!-- After using hidden -->
  <div role="img" class="skeleton skeleton--text-small" aria-label="loading" hidden></div>
  <p>asynchronous content</p>

  <!-- After using skeleton swap -->
  <p>asynchronous content</p>
  {% endhighlight %}

  <div class="highlight">
    <h3> Which implementation to pick?</h3>
    <p>TBD..</p>
  </div>

  <h3>Building blocks</h3>

  <h4>Avatar</h4>
  <p>Use the <span class="highlight">Avatar</span> skeleton to indicate that an avatar is loading.</p>
  <div class="demo">
    <div class="demo__inner">
      <div role="img" class="skeleton skeleton--avatar" aria-label="loading"></div>
    </div>
  </div>
  {% highlight html %}
  <div role="img" class="skeleton skeleton--avatar" aria-label="loading"></div>
  {% endhighlight %}

  <h4>Buttons</h4>
  <h5>Regular Button</h5>
  <p>Use the <span class="highlight">skeleton--btn</span> class, to create a minimal, default skeleton button loader.
  </p>
  <div class="demo">
    <div class="demo__inner">
      <div style="display: inline-block; width: 200px;">
        <div role="img" class="skeleton skeleton--btn" aria-label="loading"></div>
      </div>
    </div>
  </div>
  {% highlight html %}
  <div style="display: inline-block; width: 200px;">
    <div role="img" class="skeleton skeleton--btn" aria-label="loading"></div>
  </div>
  {% endhighlight %}
  <h5>Small Button</h5>
  <p>Use the <span class="highlight">small</span> modifier to decrease the size of the loader.</p>
  <div class="demo">
    <div class="demo__inner">
      <div style="display: inline-block; width: 200px;">
        <div role="img" class="skeleton skeleton--btn-small" aria-label="loading"></div>
      </div>
    </div>
  </div>
  {% highlight html %}
  <div style="display: inline-block; width: 200px;">
    <div role="img" class="skeleton skeleton--btn-small" aria-label="loading"></div>
  </div>
  {% endhighlight %}
  <h5>Large Button</h5>
  <p>Use the <span class="highlight">large</span> modifier to increase the size of the loader.</p>
  <div class="demo">
    <div class="demo__inner">
      <div style="display: inline-block; width: 200px;">
        <div role="img" class="skeleton skeleton--btn-large" aria-label="loading"></div>
      </div>
    </div>
  </div>
  {% highlight html %}
  <div style="display: inline-block; width: 200px;">
    <div role="img" class="skeleton skeleton--btn-large" aria-label="loading"></div>
  </div>
  {% endhighlight %}

  <h4>Text</h4>
  <p>Use the text skeleton loaders to indicate that content will be loading.</p>
  <h5>Variant: Small Text</h5>
  <p>Use the <span class="highlight">skeleton--text-small</span> class, to display small content changes in a single
    row.</p>
  <div class="demo">
    <div class="demo__inner">
      <div style="display: inline-block; width: 200px;">
        <div role="img" class="skeleton skeleton--text-small" aria-label="loading"></div>
      </div>
    </div>
  </div>
  {% highlight html %}
  <div style="display: inline-block; width: 200px;">
    <div role="img" class="skeleton skeleton--text-small" aria-label="loading"></div>
  </div>
  {% endhighlight %}
  <h5>Variant: Large Text</h5>
  <p>Use the <span class="highlight">skeleton--text-large</span> class, to display large content changes in a single
    row.</p>
  <div class="demo">
    <div class="demo__inner">
      <div style="display: inline-block; width: 200px;">
        <div role="img" class="skeleton skeleton--text-large" aria-label="loading"></div>
      </div>
    </div>
  </div>
  {% highlight html %}
  <div style="display: inline-block; width: 200px;">
    <div role="img" class="skeleton skeleton--text-large" aria-label="loading"></div>
  </div>
  {% endhighlight %}

  <h5>Variant: Two row small text</h5>
  <p>Use the <span class="highlight">skeleton--text-small</span> and <span
      class="highlight">skeleton--text-multiline</span> classes, to display small content changes in multiple rows.</p>
  <div class="demo">
    <div class="demo__inner">
      <div style="display: inline-block; width: 200px;">
        <div role="img" class="skeleton skeleton--text-small skeleton--text-multiline" aria-label="loading"></div>
      </div>
    </div>
  </div>
  {% highlight html %}
  <div style="display: inline-block; width: 200px;">
    <div role="img" class="skeleton skeleton--text-small skeleton--text-multiline" aria-label="loading"></div>
  </div>
  {% endhighlight %}

  <h5>Variant: RTL mode</h5>
  <div class="demo" dir="rtl">
    <div class="demo__inner">
      <div style="display: inline-block; width: 200px;">
        <div role="img" class="skeleton skeleton--text-small skeleton--text-multiline" aria-label="loading"></div>
      </div>
    </div>
  </div>
  {% highlight html %}
  <div style="display: inline-block; width: 200px;" dir="rtl">
    <div role="img" class="skeleton skeleton--text-small skeleton--text-multiline" aria-label="loading"></div>
  </div>
  {% endhighlight %}

  <h5>Variant: Two row Large text</h5>
  <p>Use the <span class="highlight">skeleton--text-large</span> and <span
      class="highlight">skeleton--text-multiline</span> classes, to display large content changes in multiple rows.</p>
  <div class="demo">
    <div class="demo__inner">
      <div style="display: inline-block; width: 200px;">
        <div role="img" class="skeleton skeleton--text-large skeleton--text-multiline" aria-label="loading"></div>
      </div>
    </div>
  </div>
  {% highlight html %}
  <div style="display: inline-block; width: 200px;">
    <div role="img" class="skeleton skeleton--text-large skeleton--text-multiline" aria-label="loading"></div>
  </div>
  {% endhighlight %}

  <h4>Form</h4>
  <p>Use the <span class="highlight">skeleton--form</span> class, while loading form controls. </p>
  <div class="demo">
    <div class="demo__inner">
      <div style="width: 200px;">
        <div role="img" class="skeleton skeleton--form" aria-label="loading"></div>
      </div>
    </div>
  </div>
  {% highlight html %}
  <div style="width: 200px;">
    <div role="img" class="skeleton skeleton--form" aria-label="loading"></div>
  </div>
  {% endhighlight %}

  <h4>Images</h4>
  <p>Use the <span class="highlight">skeleton--image</span> class, while loading images. By default, skeleton image
    loader inherits the height and width of the container. The container needs to have a class of
    `skeleton-image-container`</p>
  <div class="demo">
    <div class="demo__inner">
      <div class="skeleton-image-container" style="height:50px; width: 50px; margin-bottom: 5px;">
        <div role="img" class="skeleton skeleton--image" aria-label="loading"></div>
      </div>
      <div class="skeleton-image-container" style="height:150px; width: 150px; margin-bottom: 5px;">
        <div role="img" class="skeleton skeleton--image" aria-label="loading"></div>
      </div>
      <div class="skeleton-image-container" style="height:250px; width: 250px; margin-bottom: 5px;">
        <div role="img" class="skeleton skeleton--image" aria-label="loading"></div>
      </div>
    </div>
  </div>
  {% highlight html %}
  <div class="skeleton-image-container" style="height:50px; width: 50px; margin-bottom: 5px;">
    <div role="img" class="skeleton skeleton--image" aria-label="loading"></div>
  </div>
  <div class="skeleton-image-container" style="height:150px; width: 150px; margin-bottom: 5px;">
    <div role="img" class="skeleton skeleton--image" aria-label="loading"></div>
  </div>
  <div class="skeleton-image-container" style="height:250px; width: 250px; margin-bottom: 5px;">
    <div role="img" class="skeleton skeleton--image" aria-label="loading"></div>
  </div>
  {% endhighlight %}

  <h4>Tiles</h4>
  <p>Tiles should be used for content with image and text buttons..... </p>
  <div class="demo">
    <div class="demo__inner">
      <div style="width: 225px;">
        <div class="skeleton--tile" role="img" aria-label="loading">
          <div class="skeleton-image-container">
            <div class="skeleton skeleton--image"></div>
          </div>
          <div class="skeleton skeleton--text-small skeleton--text-multiline"></div>
        </div>
      </div>
    </div>
  </div>
  {% highlight html %}
  <div style="width: 225px;">
    <div class="skeleton--tile" role="img" aria-label="loading">
      <div class="skeleton-image-container">
        <div class="skeleton skeleton--image"></div>
      </div>
      <div class="skeleton skeleton--text-small skeleton--text-multiline"></div>
    </div>
  </div>
  {% endhighlight %}
  <h5>Responsive Tile Layout</h5>
  <p>You may use this layout by adding the skeleton--tiles-layout modifier as shown.</p>
  <div class="demo">
    <div class="demo__inner">
      <div style="width: 900px; background-color: lightyellow; border: 1px dashed orange;">
        <ul class="skeleton--tiles-layout" role="img" aria-label="loading" data-columns="3">
          <li>
            <div class="skeleton--tile">
              <div class="skeleton-image-container">
                <div class="skeleton skeleton--image"></div>
              </div>
              <div class="skeleton skeleton--text-small skeleton--text-multiline"></div>
            </div>
          </li>
          <li>
            <div class="skeleton--tile">
              <div class="skeleton-image-container">
                <div class="skeleton skeleton--image"></div>
              </div>
              <div class="skeleton skeleton--text-small skeleton--text-multiline"></div>
            </div>
          </li>
          <li>
            <div class="skeleton--tile">
              <div class="skeleton-image-container">
                <div class="skeleton skeleton--image"></div>
              </div>
              <div class="skeleton skeleton--text-small skeleton--text-multiline"></div>
            </div>
          </li>
          <li>
            <div class="skeleton--tile">
              <div class="skeleton-image-container">
                <div class="skeleton skeleton--image"></div>
              </div>
              <div class="skeleton skeleton--text-small skeleton--text-multiline"></div>
            </div>
          </li>
          <li>
            <div class="skeleton--tile">
              <div class="skeleton-image-container">
                <div class="skeleton skeleton--image"></div>
              </div>
              <div class="skeleton skeleton--text-small skeleton--text-multiline"></div>
            </div>
          </li>
          <li>
            <div class="skeleton--tile">
              <div class="skeleton-image-container">
                <div class="skeleton skeleton--image"></div>
              </div>
              <div class="skeleton skeleton--text-small skeleton--text-multiline"></div>
            </div>
          </li>
        </ul>
      </div>
    </div>
  </div>
  {% highlight html %}
  <div style="width: 900px; background-color: lightyellow; border: 1px dashed orange;">
    <ul class="skeleton--tiles-layout" role="img" aria-label="loading" data-columns="3">
      <li>
        <div class="skeleton--tile">
          <div class="skeleton-image-container">
            <div class="skeleton skeleton--image"></div>
          </div>
          <div class="skeleton skeleton--text-small skeleton--text-multiline"></div>
        </div>
      </li>
      <li>
        <div class="skeleton--tile">
          <div class="skeleton-image-container">
            <div class="skeleton skeleton--image"></div>
          </div>
          <div class="skeleton skeleton--text-small skeleton--text-multiline"></div>
        </div>
      </li>
      <li>
        <div class="skeleton--tile">
          <div class="skeleton-image-container">
            <div class="skeleton skeleton--image"></div>
          </div>
          <div class="skeleton skeleton--text-small skeleton--text-multiline"></div>
        </div>
      </li>
      <li>
        <div class="skeleton--tile">
          <div class="skeleton-image-container">
            <div class="skeleton skeleton--image"></div>
          </div>
          <div class="skeleton skeleton--text-small skeleton--text-multiline"></div>
        </div>
      </li>
      <li>
        <div class="skeleton--tile">
          <div class="skeleton-image-container">
            <div class="skeleton skeleton--image"></div>
          </div>
          <div class="skeleton skeleton--text-small skeleton--text-multiline"></div>
        </div>
      </li>
      <li>
        <div class="skeleton--tile">
          <div class="skeleton-image-container">
            <div class="skeleton skeleton--image"></div>
          </div>
          <div class="skeleton skeleton--text-small skeleton--text-multiline"></div>
        </div>
      </li>
    </ul>
  </div>
  {% endhighlight %}
  <h5>Variant: AI</h5>
  <div class="demo">
    <div class="demo__inner">
      <div style="width: 225px;">
        <div class="skeleton--tile" role="img" aria-label="loading">
          <div class="skeleton-image-container">
            <div class="skeleton skeleton-ai-gradient-blue-subtle skeleton--image"></div>
          </div>
          <div class="skeleton skeleton-ai-gradient-blue-subtle skeleton--text-small"></div>
        </div>
      </div>
    </div>
  </div>
  {% highlight html %}
  <div style="width: 225px;">
    <div class="skeleton--tile" role="img" aria-label="loading">
      <div class="skeleton-image-container">
        <div class="skeleton skeleton-ai-gradient-blue-subtle skeleton--image"></div>
      </div>
      <div class="skeleton skeleton-ai-gradient-blue-subtle skeleton--text-small"></div>
    </div>
  </div>
  {% endhighlight %}