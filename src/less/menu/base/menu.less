@import "../../mixins/utility/utility-mixins.less";

.menu__items,
.fake-menu__items {
    .background-color(menu-background-color);
    cursor: default; // override text cursor
}

span.menu,
span.fake-menu {
    display: inline-block;
    vertical-align: bottom;
}

span.menu__items[role="menu"],
span.fake-menu__items {
    display: inline-block;
}

.fake-menu__items {
    list-style-type: none;
    margin: 0;
    padding: 0;
}

.menu__item > svg.icon,
.fake-menu__item > svg.icon {
    .menu-menuitem-status();
}

.menu__item > svg.icon:last-child,
.fake-menu__item > svg.icon:last-child,
.menu__item .badge {
    margin-left: 8px;
    margin-right: 8px;
}

a.fake-menu__item {
    .color(menu-anchor-color);
    text-decoration: none;
}

button.fake-menu__item {
    font-size: inherit;
}

button.fake-menu__item,
a.fake-menu__item,
div.menu__item[role^="menuitem"] {
    .menu-menuitem-base();
}

a.fake-menu__item:focus {
    text-decoration: underline;
}

button.fake-menu__item:active svg.icon,
a.fake-menu__item:active svg.icon {
    .color(menu-menuitem-active-status-color);
}

a.fake-menu__item[aria-current="page"] svg.icon,
button.fake-menu__item[aria-current="page"] svg.icon {
    opacity: 1;
}

a.fake-menu__item:not([href]),
button.fake-menu__item[disabled],
div.menu__item[role^="menuitem"][aria-disabled="true"] {
    color: @menu-menuitem-disabled-foreground-color;
}

div.menu__item[role^="menuitem"]:active svg.icon {
    .color(menu-menuitem-active-status-color);
}

div.menu__item[role^="menuitem"][aria-checked="true"] svg.icon {
    opacity: 1;
}

a.fake-menu__item > span,
button.fake-menu__item > span,
div.menu__item[role^="menuitem"] > span {
    flex: 0 0 auto;
    text-align: left;
    white-space: nowrap;
}

a.fake-menu__item--badged,
button.fake-menu__item--badged,
div.menu__item--badged[role^="menuitem"] {
    position: relative;
}

a.fake-menu__item--badged span.badge,
button.fake-menu__item--badged span.badge,
div.menu__item--badged[role^="menuitem"] span.badge {
    padding: 1px 5px;
    position: absolute;
    top: 0;
    z-index: 1;
}

.menu__items--scroll[role="menu"] {
    overflow-y: scroll;
}

.menu__items--fix-width[role="menu"],
.fake-menu__items--fix-width {
    width: 100%;
}

.menu__items--reverse[role="menu"],
.fake-menu__items--reverse {
    right: 0;
}

.menu button.expand-btn--borderless,
.fake-menu button.expand-btn--borderless {
    background-color: transparent;
    border-color: transparent;
    padding-left: 0;
    vertical-align: initial;

    &:focus {
        outline: none;
        text-decoration: underline;
    }
}

hr.menu__separator {
    .border-color(menu-separator-color);
    border-style: solid;
    border-width: 1px;
}

// https://developer.paciellogroup.com/blog/2018/03/focus-visible-and-backwards-compatibility/
div.menu__item[role^="menuitem"]:focus:not(:focus-visible) {
    outline: none;
}

@media (prefers-color-scheme: dark) {
    .menu,
    .fake-menu {
        --menu-background-color: @color-black-dark-mode;
        --menu-menuitem-border-color: @color-black-dark-mode;
        --menu-menuitem-foreground-color: @color-text-default-dark-mode;
        --menu-menuitem-hover-foreground-color: @color-text-default;
    }
}
