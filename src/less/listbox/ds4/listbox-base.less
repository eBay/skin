// listbox text should NOT scale with root font-size, so all font-size defined with px

// BEM blocks
//-----------------------------

.listbox {
    position: relative;
}

span.listbox {
    display: inline-block;
}

// BEM elements
//-----------------------------

select.listbox__control {
    appearance: none;
    background: @ds4-color-core-white;
    border: 1px solid @ds4-color-core-gray-silver;
    border-radius: 3px;
    box-sizing: border-box;
    color: @ds4-color-core-gray-davys;
    font-family: @ds4-font-family-base;
    font-size: inherit;
    height: @ds4-height-control-medium;
    margin: 0;
    padding: 0 40px 0 16px;

    // STATES

    &:focus {
        border-color: @ds4-color-core-blue;
        outline: 0;
    }

    &[disabled] {
        background-color: @ds4-color-core-gray-light;
        border: 0;
        color: @ds4-color-core-gray-silver;

        + .listbox__icon svg {
            color: @ds4-color-transparent-gray-silver;
        }
    }

    &[readonly] {
        background-color: @ds4-color-core-gray-light;
        border-color: @ds4-color-core-gray-silver;
        color: @ds4-color-core-gray-dim;
    }

    &[aria-invalid="true"] {
        border: 1px solid @ds4-color-core-red;

        &:focus {
            border-color: @ds4-color-interface-cta;
        }
    }

    &::-ms-expand {
        display: none;
    }
}

.listbox__icon {
    // override "hidden" property/attribute
    // we use hidden attribute to prevent SVG icon appearing alongside browser default icon in a non-CSS state
    &[hidden] {
        display: inline;
    }

    // also provide a sensible fallback incase hidden attribute is forgotten or removed
    display: inline;

    svg {
        .foreground-icon-base(0.6em,100%);

        color: @ds4-color-core-gray-davys;
        pointer-events: none;
        position: absolute;
        right: 16px;
        top: 0;
    }
}

// BEM block modifiers
//-----------------------------

.listbox--small {
    font-size: 12px;

    select.listbox__control {
        height: @ds4-height-control-small;
    }
}

.listbox--large {
    font-size: 16px;

    select.listbox__control {
        height: @ds4-height-control-large;
    }
}

.listbox--extra-large {
    font-size: 18px;

    select.listbox__control {
        height: @ds4-height-control-extra-large;
    }
}

// BEM element modifiers
//-----------------------------

select.listbox__control--fluid {
    width: 100%;
}

select.listbox__control--borderless {
    background-color: transparent;
    border: 0;
    padding-left: 0;
    width: auto;

    &:focus {
        text-decoration: underline;
    }
}

// RTL
//-----------------------------

[dir="rtl"] {
    select.listbox__control {
        padding-left: 40px;
        padding-right: 8px;
    }

    .listbox__icon {
        left: 16px;
        right: auto;
    }
}
