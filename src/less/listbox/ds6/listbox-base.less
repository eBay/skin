@listbox-height: 40px;

.listbox {
    display: inline-block;
    box-sizing: border-box;
    width: 100%;

    &:hover > .listbox-btn > input.listbox-btn__control {
        border-color: @ds6-color-p004-blue;
    }

    &:active > .listbox-btn > input.listbox-btn__control {
        border-color: @ds6-color-p003-blue;
        color: @ds6-color-p003-blue;
    }
}

.listbox > .listbox-btn > input.listbox-btn__control {
    background-color: @ds6-color-g201-gray;
    border: 1px solid @ds6-color-g204-gray;
    box-sizing: border-box;
    color: @ds6-color-p002-blue;
    cursor: default;
    font-size: 16px;
    height: @listbox-height;
    padding: 0 16px;
    width: 100%;

    &:focus {
        border-color: @ds6-color-p004-blue;
    }
    
    &[disabled],
    &[aria-disabled="true"] {
        border-color: @ds6-color-disabled;
        color: @ds6-color-disabled;
    }

    &[aria-expanded="true"] {
        border-bottom: 0;
        padding-bottom: 1px; // fix for movement when border is removed
    }

    &::-moz-selection {
        background: @ds6-color-g201-gray;
    }

    &::selection {
        background: @ds6-color-g201-gray;
    }
}

.listbox > .listbox-btn + div.listbox__options {
    display: none;
    position: absolute;
    z-index: 1;
}

.listbox > .listbox-btn--expanded + div.listbox__options {
    display: block;
}

.listbox > .listbox-btn > input.listbox-btn__control + span.listbox-btn__icon {
    background-image: url('data:image/svg+xml,%3Csvg%20xmlns%3D%27http%3A//www.w3.org/2000/svg%27%20width%3D%278%27%20height%3D%275%27%3E%3Cpath%20fill%3D%22%230654ba%22%20d%3D%22M0.758714126%2C0.14644663%20C0.585147774%2C-0.048815516%200.303741117%2C-0.0488155166%200.130174765%2C0.146446629%20C-0.0433915877%2C0.341708774%20-0.0433915882%2C0.658291264%200.130174763%2C0.85355341%20L3.68573029%2C4.85355339%20C3.85929664%2C5.04881554%204.1407033%2C5.04881554%204.31426965%2C4.85355339%20L7.86982523%2C0.853553392%20C8.04339159%2C0.658291247%208.04339159%2C0.341708758%207.86982524%2C0.146446611%20C7.69625889%2C-0.0488155358%207.41485223%2C-0.0488155372%207.24128588%2C0.146446608%20L3.99999997%2C3.79289322%20L0.758714126%2C0.14644663%20Z%22%3E%3C/path%3E%3C/svg%3E');
    background-repeat: no-repeat;
    background-position: right center;
    content: "";
    height: @listbox-height;
    margin-left: 8px;
    position: absolute;
    right: 16px;
    top: 0;
    width: 8px;
}

.listbox > .listbox-btn--expanded > input.listbox-btn__control + span.listbox-btn__icon {
    transform: rotate(180deg);
}
