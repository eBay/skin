@import "../../mixins/utility/utility-mixins.less";

div.listbox {
    margin: 16px 0; // margin collapse sensible default
}

span.listbox {
    display: inline-block;
    vertical-align: bottom;
}

div.listbox__options[role="listbox"] {
    .customBackgroundColorProperty(listbox-background-color);

    cursor: default; // needed to override text cursor
}

span.listbox__options[role="listbox"] {
    display: inline-block;
}

div.listbox__options--fix-width[role="listbox"] {
    width: 100%;
}

div.listbox__options--reverse[role="listbox"] {
    right: 0;
}

div.listbox__option[role="option"] {
    .listbox-option-base();
}

span.listbox__value {
    .truncate();

    flex: 1;
}

div.listbox__option svg.icon {
    .listbox-option-status();

    margin-left: 8px;
}

[dir="rtl"] div.listbox__option svg.icon {
    margin-left: 0;
    margin-right: 8px;
}

div.listbox__options[role="listbox"]:focus .listbox__option--active[role="option"] {
    .customBackgroundColorProperty(listbox-option-hover-background-color);
    .customColorProperty(listbox-option-hover-foreground-color);
}

div.listbox__option[aria-selected="true"] svg.icon {
    opacity: 1;
}

div.listbox__option[role="option"]:active svg.icon {
    .customColorProperty(listbox-option-active-status-color);
}

// https://developer.paciellogroup.com/blog/2018/03/focus-visible-and-backwards-compatibility/
.listbox__options:focus:not(:focus-visible) {
    outline: none;
}

@media (prefers-color-scheme: dark) {
    .skin-experiment-dark-mode {
        .listbox {
            --listbox-background-color: @color-black-dark-mode;
            --listbox-option-background-color: @color-black-dark-mode;
            --listbox-option-foreground-color: @color-text-default-dark-mode;
            --listbox-option-border-color: @color-black-dark-mode;
            --listbox-option-hover-foreground-color: @color-text-default;
        }
    }
}
