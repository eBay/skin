.listbox-button {
    line-height: normal;
    position: relative;
    vertical-align: bottom;
}

span.listbox-button {
    display: inline-block;
}

span.listbox-button--fluid,
span.listbox-button--fluid .expand-btn {
    width: 100%;
}

div.listbox-button__listbox {
    .dropdown();

    border-bottom-color: transparent;
}

button.expand-btn[aria-expanded="true"] ~ div.listbox-button__listbox {
    display: block;
}

.listbox-button button[aria-invalid="true"] {
    border-color: @listbox-button-aria-invalid-border-color;
}

// todo: refactor to use a button mixin rather than .expand-btn class
.listbox-button button.expand-btn--borderless {
    background-color: transparent;
    border-color: transparent;
    padding-left: 0;
    vertical-align: initial;

    &:focus {
        outline: none;
        text-decoration: underline;
    }

    &[aria-expanded="true"] {
        border-bottom-color: transparent;
    }

    &[aria-expanded="true"] ~ .listbox-button__listbox {
        top: 41px; // button height plus one px, to meet design guidelines
    }
}

.listbox-button__options[role="listbox"]:focus .listbox-button__option--active[role="option"] {
    background-color: @dropdown-item-hover-background-color;
}

.listbox-button__option svg.icon {
    .dropdown-status();

    margin-left: 8px;
}

[dir="rtl"] .listbox-button__option svg.icon {
    margin-left: 0;
    margin-right: 8px;
}

div.listbox-button__option[role="option"][aria-selected="true"] svg.icon {
    opacity: 1;
}

div.listbox-button__option[role="option"]:active svg.icon {
    color: @dropdown-item-active-status-color;
}

div.listbox-button__option[role="option"] {
    .dropdown-option-base();

    cursor: default; // needed to override text cursor
}

span.listbox-button__value {
    .truncate();

    flex: 1 0 auto;
}
