@import "../../mixins/utility/utility-mixins.less";

@pagination-item-font-weight: @font-weight-regular;
@pagination-item-active-foreground-color: @color-text-default;
@pagination-item-current-font-weight: @font-weight-bold;

nav.pagination {
    .inline-flex-items-centered();

    .color(pagination-item-foreground-color);
    font-family: inherit;
    font-size: 1rem;
    margin: 8px 0;
    max-width: 100%;
}

nav.pagination a,
nav.pagination button {
    color: inherit;
    font-size: 1em;
}

ol.pagination__items {
    .inline-flex-items-centered();

    box-sizing: border-box;
    flex-wrap: wrap;
    height: 48px;
    list-style-type: none;
    margin: 0;
    overflow: hidden; // causes keyboard focus outline to be obscured (#927)
    padding: 0;

    li:not([hidden]) {
        .flex-items-centered();
    }
}

a.pagination__next,
a.pagination__previous,
button.pagination__next,
button.pagination__previous {
    .inline-flex-items-centered();

    outline-offset: -4px; // match items, needed because of hidden overflow
}

.pagination__item {
    .inline-flex-items-centered();

    box-sizing: border-box;
    font-weight: @pagination-item-font-weight;
    height: 48px;
    margin: 0 4px;
    outline-offset: -4px; // needed because of hidden overflow
    width: 48px;

    &:active {
        .color(pagination-item-active-foreground-color);
    }

    &:focus,
    &:hover {
        .color(pagination-item-hover-foreground-color);
        text-decoration: underline;
    }

    &[aria-current="page"] {
        .background-color(pagination-item-current-background-color);
        .border-color(pagination-item-current-border-color);
        .border-radius(pagination-item-current-border-radius);
        border-style: solid;
        border-width: 2px;
        .color(pagination-item-current-foreground-color);
        font-weight: @pagination-item-current-font-weight;
    }
}

button.pagination__item {
    background: none;
    border: none;
    font-family: inherit;
}

a.pagination__item {
    text-decoration: none;
}

nav.pagination--fluid {
    width: 100%;
}

nav.pagination--fluid ol.pagination__items {
    flex-grow: 1;
    max-width: none;
}

nav.pagination--fluid ol.pagination__items li {
    flex: 1 0 48px;
}

// https://developer.paciellogroup.com/blog/2018/03/focus-visible-and-backwards-compatibility/
a.pagination__item:focus,
button.pagination__item:focus {
    &:not(:focus-visible) {
        outline: none;
    }
}

@media (min-width: 601px) {
    nav.pagination {
        margin: 16px 0;
    }
}

@media (prefers-color-scheme: dark) {
    .pagination {
        --pagination-item-foreground-color: @color-text-default-dark-mode;
        --pagination-item-hover-foreground-color: @color-b4-dark-mode;
    }
}
