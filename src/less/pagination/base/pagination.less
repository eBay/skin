@import "../../mixins/utility/utility-mixins.less";

@pagination-item-font-weight: @font-weight-regular;
@pagination-item-foreground-color: @color-grey5;
@pagination-item-hover-foreground-color: @color-b6;
@pagination-item-active-foreground-color: @color-text-default;
@pagination-item-current-foreground-color: @color-text-default;
@pagination-item-current-font-weight: @font-weight-bold;

nav.pagination {
    .inline-flex-items-centered();

    .color(pagination-item-foreground-color);
    font-family: inherit;
    font-size: 1rem;
    margin: 8px 0;
    max-width: 100%;
}

nav.pagination a,
nav.pagination button {
    color: inherit;
    font-size: 1em;
}

ol.pagination__items {
    .inline-flex-items-centered();

    box-sizing: border-box;
    flex-wrap: wrap;
    height: 44px;
    list-style-type: none;
    margin: 0;
    padding: 0;

    li:not([hidden]) {
        .flex-items-centered();
    }
}

a.pagination__next,
a.pagination__previous,
button.pagination__next,
button.pagination__previous {
    .inline-flex-items-centered();
}

a.pagination__next,
button.pagination__next {
    margin-left: 8px;
}

a.pagination__previous,
button.pagination__previous {
    margin-right: 8px;
}

.pagination__item {
    .inline-flex-items-centered();

    box-sizing: border-box;
    font-weight: @pagination-item-font-weight;
    height: 44px;
    width: 44px;

    &:active {
        .color(pagination-item-active-foreground-color);
    }

    &:focus,
    &:hover {
        .color(pagination-item-hover-foreground-color);
    }

    &[aria-current="page"] {
        .color(pagination-item-current-foreground-color);
        font-weight: @pagination-item-current-font-weight;
        position: relative;
    }

    &[aria-current="page"]::after {
        background-color: currentColor;
        border-radius: 4px;
        bottom: 0;
        content: "";
        display: block;
        height: 2px;
        left: calc(50% - 10px);
        position: absolute;
        width: 20px;
    }

    &[aria-current="page"]:hover,
    &[aria-current="page"]:focus {
        color: @pagination-item-hover-foreground-color;
    }
}

button.pagination__item {
    background: none;
    border: none;
    font-family: inherit;
}

a.pagination__item {
    text-decoration: none;
}

nav.pagination--fluid {
    width: 100%;
}

nav.pagination--fluid ol.pagination__items {
    flex-grow: 1;
    max-width: none;
}

nav.pagination--fluid ol.pagination__items li {
    flex: 1 0 48px;
}

// https://developer.paciellogroup.com/blog/2018/03/focus-visible-and-backwards-compatibility/
a.pagination__item:focus,
button.pagination__item:focus {
    &:not(:focus-visible) {
        outline: none;
    }
}

[dir="rtl"] {
    a.pagination__next,
    button.pagination__next {
        margin-left: 0;
        margin-right: 8px;
    }

    a.pagination__previous,
    button.pagination__previous {
        margin-left: 8px;
        margin-right: 0;
    }
}

@media (min-width: @screen-size-3) {
    nav.pagination {
        margin: 16px 0;
    }
}

@media (prefers-color-scheme: dark) {
    .pagination {
        --pagination-item-foreground-color: @color-grey5-dark-mode;
        --pagination-item-current-foreground-color: @color-text-default-dark-mode;
        --pagination-item-hover-foreground-color: @color-b4-dark-mode;
        --pagination-item-active-foreground-color: @color-text-default-dark-mode;
    }
}
